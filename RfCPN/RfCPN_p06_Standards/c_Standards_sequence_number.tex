%!TEX root = ../RfCPN.tex


\modHeadchapter[lot]{\index{シーケンスばんごう@シーケンス番号}シーケンス番号（\index{Nコード}Nコード値）}
一般に、\index{シーケンスばんごう@シーケンス番号}シーケンス番号（\index{Nコードち@Nコード値}Nコード値）は重複していなければ自由に付けて問題はない。
しかしこれに一定の規則を与えておくことで、\index{NCプログラム}NCプログラムの
\begin{enumerate}[label=\sarrow]
\item どの部分で何が行われているか
\item どの部分で\index{エラー}エラーが起きているか
\item 途中から稼働する場合、どの\index{ブロック}ブロックから始めればよいか
\end{enumerate}
など、作業や管理をする際に効率よく制御できることが見込まれる。

そこで、ここでは\index{シーケンスばんごう@シーケンス番号}シーケンス番号（\index{Nコード}Nコード）についての規則を与える。



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 14.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\index{シーケンスばんごう@シーケンス番号}シーケンス番号の基本事項}
\begin{enumerate}[label=\Roman*), ref=\Roman*)]
\item \index{シーケンスばんごう@シーケンス番号}シーケンス番号は、右から順に1桁目, 2桁目, ...と数えるものとする
\item \expandafterindex{シーケンスばんごう（\yomiCreatedNCMainPrg）@シーケンス番号（\nameCreatedNCMainPrg）}\nameCreatedNCMainPrg%
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{ここでいう\index{メインプログラム}メインプログラムとは、下5桁が\DrawingNumber と一致するものを指す。}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
のシーケンス番号は4桁とし、0埋めする
\item \expandafterindex{シーケンスばんごう（\yomiCreatedNCSubPrg）@シーケンス番号（\nameCreatedNCSubPrg）}\nameCreatedNCSubPrg のシーケンス番号は4桁とし、0埋めする
\item \index{NCプログラム}NCプログラムの始まりの\index{シーケンスばんごう@シーケンス番号}シーケンス番号は{\ttfamily N0001}とする
\item 原則として、\index{シーケンスばんごう@シーケンス番号}シーケンス番号は昇順とし、特に1桁目は連番とする
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 14.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\expandafterindex{シーケンスばんごう（\yomiCreatedNCSubPrg）@シーケンス番号（\nameCreatedNCSubPrg）}\nameCreatedNCSubPrg のシーケンス番号}
\DMC においては、原則として\CreatedNCSubPrg は始めから実行されるものであり、途中の部分から実行されることはない。
そのため、\expandafterindex{シーケンスばんごう（\yomiCreatedNCSubPrg）@シーケンス番号（\nameCreatedNCSubPrg）}\nameCreatedNCSubPrg のシーケンス番号は記述の順に（概ね\index{ブロック}ブロックごとに）連番とする。

なお、\expandafterindex{シーケンスばんごう（エラーけんしゅつ）@シーケンス番号（エラー検出）}エラー検出時に関するシーケンス番号、および\expandafterindex{シーケンスばんごう（プログラムしゅうりょう）@シーケンス番号（プログラム終了）}プログラム終了に関するシーケンス番号については、以降で述べる\CreatedNCMainPrg のもの(\autoref{subsec:sequenceNerror}, \pageautoref{subsec:sequenceNprgEnd})と同様とする。



\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 14.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\expandafterindex{シーケンスばんごう（\yomiCreatedNCMainPrg）@シーケンス番号（\nameCreatedNCMainPrg）}\nameCreatedNCMainPrg のシーケンス番号}
\DMC において、\CreatedNCMainPrg は\index{さぎょうしゃ@作業者}作業者が実際に設定を変更したり、途中の箇所から始めたりし得る。
そのため、\CreatedNCMainPrg では各作業（測定・加工）ごとに\index{シーケンスばんごう@シーケンス番号}シーケンス番号を割り振ることにする。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 14.3.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N1000：測定（\Dimple・\ReliefGroove 以外）}
\index{タッチセンサープローブ}タッチセンサープローブを用いた測定（\Dimple ・\ReliefGroove を除く）を行う工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は1000番台とする。
これには以下の\index{こうてい@工程}工程が含まれ、これらは2桁目の番号で区別される。
\begin{enumerate}
\item[1000:] 芯出し測定
\item[6500:] \expandafterindex{\yomiCenterlineEndFaceDif そくてい@\nameCenterlineEndFaceDif 測定}\nameCenterlineEndFaceDif 測定
\end{enumerate}


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.02 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N2000：測定（\Dimple・\ReliefGroove）}
\Dimple および\ReliefGroove に関する\index{タッチセンサープローブ}タッチセンサープローブを用いた測定を行う工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は2000番台とする。
これには以下の工程が含まれ、これらは3桁目の番号で区別される。
\begin{enumerate}
\item[2000:] \DimpleMeasurement
\item[2500:] \ReliefGrooveMeasurement
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.03 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N3000：\DimpleMilling ・\ReliefGrooveMilling}
\DimpleMilling および\ReliefGrooveMilling を行う工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は3000番台とする。
これには以下の工程が含まれ、これらは3桁目の番号で区別される。
\begin{enumerate}
\item[3000:] \DimpleMilling
\item[3500:] \ReliefGrooveMilling
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.04 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N4000：トップ側の加工}
トップ側の加工を行う工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は4000番台とする。
これには以下の工程が含まれ、これらは3桁目の番号で区別される。
\begin{enumerate}
\item[4000:] \TopEndFacecutMilling
\item[4100:] \TopOutcutMilling または\EndFaceBoringMilling または\IncutBoringMilling
\item[4200:] \KeywayMilling
\item[4300:] \TopEndFaceOutCChamferMilling
\item[4400:] \TopEndFaceInCChamferMilling
\end{enumerate}


\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.05 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N5000：ボトム側の加工}
ボトム側の加工を行う工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は5000番台とする。
これには以下の工程が含まれ、これらは3桁目の番号で区別される。
\begin{enumerate}
\item[5000:] \BottomEndFacecutMilling
\item[5100:] \BottomOutcutMilling
\item[5300:] \BottomEndFaceOutCChamferMilling
\item[5400:] \BottomEndFaceInCChamferMilling
\end{enumerate}


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.06 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N8000：エラー\label{subsec:sequenceNerror}\vphantom{\ref{subsec:sequenceNerror}}\TBW}
\index{エラー}エラー検出時に\index{ジャンプ}ジャンプする\index{シーケンスばんごう@シーケンス番号}シーケンス番号は8000番台とする。
\index{エラーのしゅるい@エラーの種類}エラーの種類（\index{システムへんすう@システム変数}システム変数\ttNum3000の値）に応じて以下のように分類し、（概ね）\index{ブロック}プロックごとに連番とする。
\begin{enumerate}
\item[8000:] \verb|#3000=121 (Argument is not assigned)|
\item[8100:] \verb|#3000=...|
\item[8200:] \verb|#3000=1 (Pallet Alarm)|,\\
            \verb|#3000=145 (Sensor-Low-Battery)|, \verb|#3000=146 (Sensor-Alarm)|
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 28.03.07 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{N9990：\index{NCプログラム}NCプログラムの終了\label{subsec:sequenceNprgEnd}}
\index{こうてい（プログラムしゅうりょう）@工程（プログラム終了）}NCプログラムを終了する工程の\index{シーケンスばんごう@シーケンス番号}シーケンス番号は9990番台とする。
特に、\index{NCプログラム}NCプログラムの終了はN9999とする。



\clearpage
\noindent
改めて上記の\index{シーケンスばんごういちらん@シーケンス番号一覧}シーケンス番号を一覧にしておく。\\

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% sequence numbers %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{multicollongtblr}{シーケンス番号 一覧（メインプログラム）\TBW}{cX[l]}
N番号 & 内容\\
\ttfamily N0001 & \index{NCプログラム}NCプログラムの始まり\\
\ttfamily N10xx & \index{タッチセンサープローブそくてい@タッチセンサープローブ測定}タッチセンサープローブ測定（\index{しんだしそくてい@芯出し測定}芯出し測定）\\
\ttfamily N20xx & \index{タッチセンサープローブそくてい@タッチセンサープローブ測定}タッチセンサープローブ測定（\DimpleMeasurement）\\
\ttfamily N25xx & \index{タッチセンサープローブそくてい@タッチセンサープローブ測定}タッチセンサープローブ測定（\ReliefGrooveMeasurement）\\
\ttfamily N30xx & \DimpleMilling\\
\ttfamily N35xx & \ReliefGrooveMilling\\
\ttfamily N40xx & \TopEndFacecutMilling\\
\ttfamily N41xx & \TopOutcutMilling\\
\ttfamily N42xx & \KeywayMilling\\
\ttfamily N43xx & \TopEndFaceOutCChamferMilling\\
\ttfamily N44xx & \TopEndFaceInCChamferMilling\\
\ttfamily N45xx & \EndFaceBoringMilling\\
\ttfamily N50xx & \BottomEndFacecutMilling\\
\ttfamily N51xx & \BottomOutcutMilling\\
\ttfamily N53xx & \BottomEndFaceOutCChamferMilling\\
\ttfamily N54xx & \BottomEndFaceInCChamferMilling\\
\ttfamily N65xx & \index{タッチセンサープローブそくてい@タッチセンサープローブ測定}タッチセンサープローブ測定（\CenterlineEndFaceDifMeasurement）\\
\ttfamily N80xx & \index{エラー（ひきすう）@エラー（引数）}引数によるエラー\\
\ttfamily N81xx\TBW & \\
\ttfamily N82xx & \index{エラー（パレット）}\index{エラー（タッチセンサープローブ）}パレットまたはタッチセンサープローブによるエラー\\
\ttfamily N999x & \index{こうてい（プログラムしゅうりょう）@工程（プログラム終了）}プログラム終了の工程\\
\ttfamily N9999 & \index{プログラムしゅうりょう@プログラム終了}プログラム終了({\ttfamily M02}または{\ttfamily M30}または{\ttfamily M99})
\end{multicollongtblr}
