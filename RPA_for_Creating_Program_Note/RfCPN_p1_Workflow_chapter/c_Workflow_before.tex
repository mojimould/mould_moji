%!TEX root = ../RPA_for_Creating_Program_Note.tex


モールドの端面加工・外削加工・溝加工等は主に\MMname にて行われている。
新たに導入する横型マシニングセンタ（\DMname）での工程は、\dimple の測定・加工を除けば\MMname と同様である。
そこで、まずは\MMname ではどのようなフローで業務が行われているかを（ソフトウェアの観点から）みることにする。

なお、ここでは\MMname のNo.1パレット（山側）で加工を行うものを対象とする
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{No.2パレット（海側）では、径の大きなものや丸形のもの等の加工が主に行われる。}。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 1.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\MMname における工程（加工前）}
\MMname において、ある明細のモールドを加工をする際に、以下のような流れで作業が行われる。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{図面の確認}
\begin{enumerate}
\item 対象となる明細の図面を用意する
\item 他に内容が類似する明細の図面があれば、それも併せて用意する
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{加工部分の有無の確認}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.2.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{端面部分}
端面の加工については、全明細に共通の形で存在する。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.2.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{外削部分}
外削の加工については、明細により外削の有無または形状の違いが存在する。
\begin{enumerate}
\item トップ側またはボトム側の\index{がいさく@外削}外削の有無を確認する
\item 外削の形状を確認し、使用する工具を決定する
\item \index{わんきょくにそったがいさく@湾曲に沿った外削}外削が湾曲に沿ったものかどうかも確認する
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.2.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{溝加工}
外削の加工については、全明細に存在し、明細により形状の違いが存在する。
\begin{enumerate}
\item 溝の形状を確認し、使用するサブプログラムの判断を行う
\item \index{みぞはば@溝幅}溝幅を確認し、使用する工具の判断を行う
\end{enumerate}

%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.2.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{面取加工}
外削の加工については、全明細に存在し、明細により形状の違いが存在する。
\begin{enumerate}
\item 溝の形状を確認し、C面取であれば、マシニングによる加工を行うか判断を行う
\item \index{Cめんとり@C面取}C面取の角度を確認し、使用する工具を決定する
\end{enumerate}

\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.2.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{座ぐり加工\TBW}
(to be written...)


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{加工部分の寸法の確認}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.3.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{端面における寸法}
\begin{enumerate}
\item \index{ぜんちょう@全長}全長の公差を確認し、トップ振分長およびボトム振分長の公差の判断を行う
\item トップ側・ボトム側の\index{ふりわけちょう@振分長}振分長を確認し、\index{スペーサ}スペーサによる調整が必要か判断を行う
\item 使用するスペーサおよび再振分長は、専用の計算プログラム(\index{Excel VBA}Excel VBA)を用いて決定する
\item 外径・端面部の肉厚・コーナーRの大きさを確認し、それに応じて工具径補正量を決定する
\end{enumerate}
\begin{Tabbox}[title={必要な図面上のパラメータ}]\small
\paragraph*{再振分長}
全長・トップ振分長・ボトム振分長・AC外径・ジグの長さ・受板の幅
\tcbline*
\paragraph*{トップ端面}
トップ再振分長・AC外径・BD外径・トップ端外側コーナーR・トップ端AC内径・トップ端BD内径
\tcbline*
\paragraph*{ボトム端面}
ボトム再振分長・AC外径・BD外径・ボトム端外側コーナーR・ボトム端AC内径・ボトム端BD内径
\end{Tabbox}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.3.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{外削における寸法}
\begin{enumerate}
\item \index{がいさくちょう@外削長}外削長と\index{みぞ@溝}溝の位置を確認し、実際に加工する外削の長さの判断を行う
\item トップ側・ボトム側の両方に外削のある場合は、どちら側が基準であるのかを確認する
\item 端面における内径・端面におけるA側肉厚・めっき膜厚から、外削中心$X$位置用のパラメータを手動による計算で決定する
\item 湾曲に沿った外削の場合は、傾き角を手動による計算で決定する
\end{enumerate}
\begin{Tabbox}[title={必要な図面上のパラメータ}]\small
\paragraph*{ボトム側の外削のみの場合}
ボトム外削AC径・ボトム外削BD径・ボトム端AC内径・ボトム端A側肉厚・めっき膜厚・ボトム外削長
\tcbline*
\paragraph*{トップ側の外削のみの場合}
トップ外削AC径・トップ外削BD径・トップ端AC内径・トップ端A側肉厚・めっき膜厚・トップ外削長・溝位置・溝幅
\tcbline*
\paragraph*{両方に外削があり、ボトム側が基準の場合}
ボトム外削AC径・ボトム外削BD径・ボトム端AC内径・ボトム端A側肉厚・めっき膜厚・ボトム外削長・
トップ外削AC径・トップ外削BD径・トップ外削長・溝位置・溝幅・
通り芯
\tcbline*
\paragraph*{両方に外削があり、トップ側が基準の場合}
トップ外削AC径・トップ外削BD径・トップ端AC内径・トップ端A側肉厚・トップ外削長・溝位置・溝幅・
ボトム外削AC径・ボトム外削BD径・めっき膜厚・ボトム外削長・
通り芯
\tcbline*
\paragraph*{湾曲に沿った外削の場合}
（以上に加えて）中心湾曲
\end{Tabbox}

%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.3.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{溝における寸法}
\begin{enumerate}
\item 溝の形状を確認し、必要に応じて加工における径の決定する
\item \index{みぞちゅうしん@溝中心}溝中心の基準を確認し、溝中心の$X$位置を手動で計算し、決定する
\item \index{みぞはば@溝幅}溝幅を確認し、加工の回数を決定する
\end{enumerate}
\begin{Tabbox}[title={必要な図面上のパラメータ}]\small
\paragraph*{湾曲中心が基準の場合}
溝AC径・溝BD径・溝位置・溝幅・中心湾曲・溝コーナーRまたはC
\tcbline*
\paragraph*{外削中心が基準の場合}
溝AC径・溝BD径・溝位置・溝幅・溝コーナーRまたはC
\tcbline*
\paragraph*{A側溝深さが基準の場合}
（以上に加えて）A側溝深さ
\end{Tabbox}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.3.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{面取における寸法}
\begin{enumerate}
\item 外側C面取の場合は、外削の有無を確認し、加工の径を決定する
\end{enumerate}
\begin{Tabbox}[title={必要な図面上のパラメータ}]\small
\paragraph*{トップ端外側C面取}
AC外径またはトップ外削AC径・BD外径またはトップ外削BD径・トップ端外側C面取長・外径またはトップ端外削コーナーR
\tcbline*
\paragraph*{ボトム端外側C面取}
AC外径またはボトム外削AC径・BD外径またはボトム外削BD径・ボトム端外側C面取長・外径またはボトム端外削コーナーR
\tcbline*
\paragraph*{トップ端内側C面取}
トップ端AC内径・トップ端BD内径・めっき膜厚・トップ端内側C面取長・トップ端内径コーナーR
\tcbline*
\paragraph*{ボトム端内側C面取}
ボトム端AC内径・ボトム端BD内径・めっき膜厚・ボトム端内側C面取長・ボトム端内径コーナーR
\end{Tabbox}

\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsubsection 01.1.3.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{座ぐりにおける寸法\TBW}
(to be written...)


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{プログラムの入力}
\begin{enumerate}
\item 原則として、プログラム番号は製品番号と一致させる\\
ただし、加工内容が同一のものである場合は、既存のプログラムをそのまま流用する
\item 各々の加工部分およびその形状に対するサブプログラムを決定する
\item 各々のサブプログラムに対し、適切な寸法値を手動で計算する
\item 各々のサブプログラムに対し、計算した寸法値・工具番号・送り速さ・回転数を格納する
\item 再振分長の寸法に応じて、$Z$方向クリアランス平面の位置を決定する
\item マシニングにてメインプログラムを直接編集し、必要なコードまたは数値を記入する
\item 必要に応じて、一時停止用のコードを代入する
\item 工具径または工具長の補正が必要な場合は、別途専用画面にて編集を行う
\end{enumerate}


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ワークの設置}
\begin{enumerate}
\item スペーサが必要な場合は、適切なスペーサをジグの受板に設置する
\item ワークの大きさを考慮して、固定用のネジの長さを適宜決定し、ジグに設置する
\item 再振分長に応じた位置にワークを設置し、固定する
\item トップ側およびボトム側の、ジグからの\index{はりだしちょう@張出長}張出長をメジャーを用いて測定する
\item 測定した張出長から、端面加工における削り代を手動でおおまかに計算する
\end{enumerate}


%\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.1.5 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ワーク設置後の調整}
\begin{enumerate}
\item トップ側およびボトム側の削り代に応じて、端面加工の回数を設定する
\item トップ端およびボトム端の外径中心の位置をメジャーで測定する
\item 測定した中心位置を用いて、ワーク座標系原点の設定を行う
\end{enumerate}
これらの設定は、メインプログラムを直接手動で編集する形で行われる。



\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 1.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\MMname における工程（加工中）}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{芯出し測定後}
\begin{enumerate}
\item 各々のワーク座標系原点の測定後、必要に応じてワーク座標系原点の設定変更を行う
\item 各々の測定箇所の$Z$位置の変更を、必要に応じて行う
\end{enumerate}
これらの設定は、\index{メインプログラム}メインプログラムを直接手動で編集する形で行われる。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{端面加工後}
\begin{enumerate}
\item 必要に応じて、1回あたりの削り代を調整する
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{外削加工後}
\begin{enumerate}
\item 必要に応じて仕上加工前に一時停止を行い、A側肉厚および外削径の測定を行う
\item A側肉厚を調整する場合は、該当する芯出し測定部分のパラメータをメインプログラムから直接手動で編集する
\item 外削径を調整する場合は、該当する加工部分のパラメータをメインプログラムから直接手動で編集する
\item 加工の回数を変更する場合は、該当する加工部分をメインプログラムから直接手動で編集する
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{溝加工後}
\begin{enumerate}
\item 必要に応じて仕上加工前に一時停止を行い、A側溝深さおよび溝径の測定を行う
\item A側溝深さを調整する場合は、該当する芯出し測定部分のパラメータをメインプログラムから直接手動で編集する
\item 溝径を調整する場合は、該当する加工部分のパラメータをメインプログラムから直接手動で編集する
\item 加工の回数を変更する場合は、該当する加工部分をメインプログラムから直接手動で編集する
\item 必要に応じて、\index{ブロックゲージ}ブロックゲージによる溝幅の測定を行う
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{外側C溝加工後\TBW}
(to be written...)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{内側C溝加工後\TBW}
(to be written...)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 01.2.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{座ぐり加工後\TBW}
(to be written...)



\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 1.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{\MMname における工程（加工後）\TBW}
(to be written...)

