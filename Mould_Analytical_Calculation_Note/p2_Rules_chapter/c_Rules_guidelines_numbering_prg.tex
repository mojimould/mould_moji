%!TEX root = ../Mould_Analytical_Calculation_Note.tex


現時点(\customtoday 時点)における客観的事実として、番号付けに関する業務規程・技術標準等は存在しておらず、そもそもソフトウェア関連に対する管理・業務を行う部門すら存在していない状態である。
また、同じく客観的な事実として、このような状態は旧態依然として永らく続いており、今後もこれが変化する可能性は極めて低い状況にある。

こうした事情から、\DMname で使用するプログラム番号に対して、独自に番号付けの規則の制定を行う
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{機械設置時に付属しているバンドルのプログラムについてはこの限りではない。}。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
なお、ここに記載しているものは正式なルールではなく、だいたいの目安・方針である。



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.1.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：基本事項}
\begin{enumerate}[label=\Roman*), ref=\Roman*)]
\item プログラム番号は8桁の半角英数字で表される(\verb+(a-zA-Z|\d){8}+)
\item 原則として、プログラム番号には半角数字のみを用いる(\verb|\d{8}|)
\item プログラム番号には右から順に1桁目, 2桁目, ..., 8桁目と数えるものとする
\item プログラム番号は4桁までは左側0埋めを行う
\item\label{item:PNbasicGE5} 5桁目以上の左側0埋めの有無は問わない
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% hosoku %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{hosoku}
なおこの規則だと、バンドルのプログラム(O7xxx, O8xxx, O9xxx)と重複する恐れがある。
これについては、実際にそうした問題に直面したときにその都度に対応するものとする。
基本的には、バンドルのプログラムを（可能であれば）変更する方針とする。
\end{hosoku}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.1.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：8, 7桁目}
7桁目および8桁目はともに0とする。
これに伴い、\ref{item:PNbasicGE5}に基づき、以下では0埋めを省略してすべてのプログラム番号を6桁の数字 (\verb|\d{6}|)で表す。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：6桁目}
6桁目の数字は主にプログラムの種類を表すものとし、以下のように分類する。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.3.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{6桁目：0}
6桁目が0のものは、原則としてメインプログラムとする。
このとき、下5桁は製品の図面番号（番号部分・右詰め, \verb|\d{5}|）とする
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{稀に、図面番号にアルファベットが含まれるものが存在する。
その場合は、その都度に別途対応する。}。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.3.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{6桁目：0, 9以外}
6桁目が0, 9以外の場合は、以下のように分類する。
\begin{enumerate}[label=\arabic*., ref=\arabic*, start=1]
\item\label{item:6Mmain} 測定（内面溝以外）を行うプログラム(\verb|1\d{5}|)
\item\label{item:6MD} 測定（内面溝）を行うプログラム(\verb|2\d{5}|)
%\item\label{item:6MN} 測定（逃し溝）を行うプログラム
\setcounter{enumi}{3}
\item\label{item:6Kmain} 加工（内面溝以外）を行うプログラム(\verb|4\d{5}|)
\item\label{item:6KD} 加工（内面溝）を行うプログラム(\verb|5\d{5}|)
%\item\label{item:6KN} 加工（逃し溝）を行うプログラム
\end{enumerate}
複数の用途での使用が想定されるものに対しては、番号の若いほうに合わせる。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.3.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{6桁目：9}
6桁目が9のものは、製品の計測・加工に直接関係しないプログラムとする。
このとき、下5桁はその都度に別途考慮し番号付けを行う。(\verb|9\d{5}|)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% hosoku %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{hosoku}
たとえば、タッチセンサー電源のON・OFF, 暖機運転, 工具測定などのプログラムはこれに属するものとする。
\end{hosoku}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：5桁目}
5桁目の数字は、以下のように分類する。
なお、以降では6桁目が\ref{item:6Mmain}, \ref{item:6MD}, \ref{item:6Kmain}, \ref{item:6KD}の場合のみについて記述する
\begin{enumerate}[label=\alph*)]
\item 6桁目が\ref{item:6Mmain}（内面溝以外の測定）の場合、5桁目を以下にように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*]
  \item\label{item:5MCOO} 芯出しにおいて、($XY$)外側片面を測定するプログラム(\verb|11\d{4}|)
  \item\label{item:5MCOBsZ} 芯出しにおいて、$Z$の同じ($X$または$Y$の)外側両面を測定するプログラム(\verb|12\d{4}|)
  \item\label{item:5MCOBdZ} 芯出しにおいて、$Z$の異なる($X$または$Y$の)外側両面を測定するプログラム(\verb|13\d{4}|)
  \item\label{item:5MCIO} 芯出しにおいて、($XY$)内側片面を測定するプログラム(\verb|14\d{4}|)
  \item\label{item:5MCIB} 芯出しにおいて、$Z$一定で($X$または$Y$の)内側両面を測定するプログラム(\verb|15\d{4}|)
  \item\label{item:5MCL} 通り芯を測定するプログラム(\verb|16\d{5}|)
  \end{enumerate}
\item 6桁目が\ref{item:6MD}, \ref{item:6KD}（内面溝の測定, 加工）の場合、5桁目を以下のように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*]
  \item 内面溝の行と、個々の中心湾曲線上の交点への移動を繰返すプログラム(\verb|21\d{4}|)
%  \item 内面溝において、各内面方向への($X$または$Y$方向)の移動を繰返すプログラム(\verb|22\d{4}|)
  \item 内面溝の個々の行方向の移動を繰返すプログラム(\verb|22\d{4}|)
  \item 内面溝の個々の深さ方向に測定・加工するプログラム(\verb|[25]3\d{4}|)
%  \item 主にレベル4の階層で用いるプログラム(\verb|[2356]4\d{4}|)
  \end{enumerate}
%  複数の用途での使用が想定されるものに対しては、番号の若いほうに合わせる。
\item 6桁目が\ref{item:6Kmain}（内面溝以外の加工）の場合、5桁目を以下にように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*, start=1]
%  \item\label{item:5Kaux} 加工の種類に依存しない加工のプログラム(\verb|40\d{4}|)
  \item\label{item:5KF} 端面加工に関するプログラム(\verb|41\d{4}|)
  \item\label{item:5KO} 外削加工に関するプログラム(\verb|42\d{4}|)
  \item\label{item:5KK} 溝加工に関するプログラム(\verb|43\d{4}|)
  \item\label{item:5KCO} （端面部の）外側面取加工に関するプログラム(\verb|44\d{4}|)
  \item\label{item:5KCI} （端面部の）内側面取加工に関するプログラム(\verb|45\d{4}|)
%  \item\label{item:5KZ} 座ぐりの加工のプログラム(\verb|46\d{4}|)
  \end{enumerate}
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.1.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：4桁目}
（6桁目が\ref{item:6Mmain}, \ref{item:6MD}, \ref{item:6Kmain}, \ref{item:6KD}の場合）4桁目の数字は、以下のように分類する。
\begin{enumerate}[label=\alph*), ref=\alph*)]
\item 6桁目が\ref{item:6Kmain}\hx 以外の場合、4桁目は0とする(\verb|[1-356][1-5]0\d{3}|)
\item 6桁目が\ref{item:6Kmain}（内面溝・逃し溝以外の加工）の場合、4桁目を以下にように分類する
  \begin{enumerate}[label=\alph{enumi}\,-\arabic*), leftmargin=\leftmargini]
  \item 5桁目が\ref{item:5KO}（外削加工）以外の場合、4桁目は0とする(\verb|4[13-6]0\d{3}|)
  \item 5桁目が\ref{item:5KO}（外削加工）の場合、4桁目を以下のように分類する
    \begin{enumerate}[label=\arabic*., ref=\arabic*, start=0, leftmargin=*]
    \item 端面に垂直方向の外削加工のプログラム(\verb|420\d{3}|)
    \item 湾曲に沿った方向の外削加工のプログラム(\verb|421\d{3}|)
    \end{enumerate}
  \end{enumerate}
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.1.5 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：3, 2桁目}
（6桁目が\ref{item:6Mmain} $\sim$ \ref{item:6KN}\hx の場合の）3桁目および2桁目の数字はともに0とする。(\verb|[1-6][0-6][0-2]0\d{2}|)



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% section 9.1.6 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：1桁目}
（6桁目が\ref{item:6Mmain} $\sim$ \ref{item:6KN}\hx の場合の）1桁目の数字は、以下のように分類する。
\begin{enumerate}[label=\alph*), ref=\alph*)]
\item 6桁目が\ref{item:6Kmain}\hx 以外の場合、1桁目は以下のように分類する
  \begin{enumerate}[label=\arabic*.]
  \item 主に$X$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}1|)
  \item 主に$Y$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}2|)
  \item 主に$Z$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}3|)
  \item 工具から見て右回り（$XY$面）に加工するプログラム(\verb|40[12]10{2}|)
  \item 工具から見て左回り（$XY$面）に加工するプログラム(\verb|40[12]20{2}|)
  \end{enumerate}
\item 6桁目が\ref{item:6Kmain}（内面溝・逃し溝以外の加工）の場合、4桁目を以下にように分類する
  \begin{enumerate}[label=\alph{enumi}\,-\arabic*), leftmargin=\leftmargini]
  \item 5桁目が\ref{item:5KO}（外削加工）以外の場合、4桁目は0とする(\verb|4[13-6]0\d{3}|)
  \item 5桁目が\ref{item:5KO}（外削加工）の場合、4桁目を以下のように分類する
    \begin{enumerate}[label=\arabic*., ref=\arabic*, start=0, leftmargin=*]
    \item 端面に垂直方向の外削加工のプログラム(\verb|420\d{3}|)
    \item 湾曲に沿った方向の外削加工のプログラム(\verb|421\d{3}|)
    \end{enumerate}
  \end{enumerate}
\end{enumerate}
