%!TEX root = ../Mould_Analytical_Calculation_Note.tex


ここでは\DMname における製品の加工・測定に関する、プログラムの番号付けの規則を記載する
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{工具長の測定やジグの測定など、製品の加工とは直接関係しないプログラムについてはこの限りではない。}。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
なお、ここに記載しているものは正式なルールではなく、だいたいの目安・方針である。
\begin{enumerate}[label=\Roman*., ref=\Roman*)]
\item 原則として、プログラム番号には半角数字のみを用いる
\item 原則として、プログラム番号には8桁の数字(\verb|\d{8}|)を用いる
\item プログラム番号には右から順に1桁目, 2桁目, ...と数えるものとする
\item 製品の図面番号（番号部分）とメインプログラム番号は同じものとし、右詰めとする
\item プログラム番号は4桁までは左側0埋めを行う
\item 5桁目以上の左側0埋めの有無は問わない
\end{enumerate}
なおこの規則だと、バンドルのプログラム(O7xxx, O8xxx, O9xxx)と重複する恐れがある。
これについてはそうした問題に直面したときにその都度に対応するものとする。
基本的には、バンドルのプログラムを（可能であれば）変更する方針とする。



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.1 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：8, 7桁目}
7桁目および8桁目はともに0とする。
これに伴い、以下では0埋めを省略して、プログラム番号を6桁の数字 (\verb|\d{6}|)で表す。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.2 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：6桁目}
6桁目の数字は主にプログラムの種類を表すものとし、以下のように分類する。
\begin{enumerate}[label=\arabic*., ref=\arabic*, start=0]
\item\label{item:6main} メインプログラム
\item\label{item:6Mmain} 測定（内面溝・逃し溝以外）を行うプログラム
\item\label{item:6MD} 測定（内面溝）を行うプログラム
\item\label{item:6MN} 測定（逃し溝）を行うプログラム
\item\label{item:6Kmain} 加工（内面溝・逃し溝以外）を行うプログラム
\item\label{item:6KD} 加工（内面溝）を行うプログラム
\item\label{item:6KN} 加工（逃し溝）を行うプログラム
\setcounter{enumi}{7}
\item\label{item:6o} その他、製品の計測・加工に直接関係しない、タッチセンサーを用いないプログラム
\item\label{item:6oM} その他、製品の計測・加工に直接関係しない、タッチセンサーを用いるプログラム
\end{enumerate}
したがって、任意のプログラムは\verb|[0-689]\d{5}|で表される。
なお、複数の用途での使用が想定されるものに対しては、番号の若いほうに合わせる。


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：5桁目}
5桁目の数字は、以下のように分類する。
\begin{enumerate}[label=\alph*)]
\item 6桁目が\ref{item:6main}（メインプログラム）の場合、下5桁は製品の図面番号（番号部分・右詰め）とする
%% footnote %%%%%%%%%%%%%%%%%%%%%
\footnote{稀に、図面番号にアルファベットが含まれるものが存在する。
その場合は、その都度に別途対応する。}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item 6桁目が\ref{item:6Mmain}（内面溝・逃し溝以外の測定）の場合、5桁目を以下にように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*]
  \item\label{item:5MCOB} 芯出し（通り芯除く）において、($XY$)外側の両面を測定するプログラム(\verb|11\d{4}|)
  \item\label{item:5MCOO} 芯出し（通り芯除く）において、($XY$)外側の片面を測定するプログラム(\verb|12\d{4}|)
  \item\label{item:5MCIB} 芯出し（通り芯除く）において、($XY$)内側の両面を測定するプログラム(\verb|13\d{4}|)
  \item\label{item:5MCIO} 芯出し（通り芯除く）において、($XY$)内側の片面を測定するプログラム(\verb|14\d{4}|)
  \item\label{item:5MCL} 通り芯を測定するプログラム(\verb|5\d{5}|)
  \end{enumerate}
\item 6桁目が\ref{item:6MD}, \ref{item:6MN}, \ref{item:6KD}, \ref{item:6KN}（内面溝・逃し溝の測定, 加工）の場合、5桁目を以下にように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*]
  \item 主にレベル1の階層で用いるプログラム(\verb|[2356]1\d{4}|)
  \item 主にレベル2の階層で用いるプログラム(\verb|[2356]2\d{4}|)
  \item 主にレベル3の階層で用いるプログラム(\verb|[2356]3\d{4}|)
  \item 主にレベル4の階層で用いるプログラム(\verb|[2356]4\d{4}|)
  \end{enumerate}
  なお、複数の用途での使用が想定されるものについては、番号の若いほうに合わせる
\item 6桁目が\ref{item:6Kmain}（内面溝・逃し溝以外の加工）の場合、5桁目を以下にように分類する
  \begin{enumerate}[label=\arabic*., ref=\arabic*, start=0]
  \item\label{item:5Kaux} 加工の種類に依存しない加工のプログラム(\verb|40\d{4}|)
  \item\label{item:5KF} 端面の加工のプログラム(\verb|41\d{4}|)
  \item\label{item:5KO} 外削の加工のプログラム(\verb|42\d{4}|)
  \item\label{item:5KK} 溝の加工のプログラム(\verb|43\d{4}|)
  \item\label{item:5KCO} 外側面取の加工のプログラム(\verb|44\d{4}|)
  \item\label{item:5KCI} 内側面取の加工のプログラム(\verb|45\d{4}|)
  \item\label{item:5KZ} 座ぐりの加工のプログラム(\verb|46\d{4}|)
  \end{enumerate}
\item 6桁目が\ref{item:6o}, \ref{item:6oM}（その他）の場合、下5桁はその都度に別途考慮し番号付けを行う(\verb|[89]\d{5}|)
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.4 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：4桁目}
4桁目の数字は、以下のように分類する。
なお、以下では6桁目が\ref{item:6Mmain} $\sim$ \ref{item:6KN} (\verb|[1-6][0-6]\d{4}|)の場合のみについて記述する。
\begin{enumerate}[label=\alph*), ref=\alph*)]
\item 6桁目が\ref{item:6Kmain}\hx 以外の場合、4桁目は0とする(\verb|[1-356][1-5]0\d{3}|)
\item 6桁目が\ref{item:6Kmain}（内面溝・逃し溝以外の加工）の場合、4桁目を以下にように分類する
  \begin{enumerate}[label=\alph{enumi}\,-\arabic*), leftmargin=\leftmargini]
  \item 5桁目が\ref{item:5KO}（外削加工）以外の場合、4桁目は0とする(\verb|4[13-6]0\d{3}|)
  \item 5桁目が\ref{item:5KO}（外削加工）の場合、4桁目を以下のように分類する
    \begin{enumerate}[label=\arabic*., ref=\arabic*, start=0, leftmargin=*]
    \item 端面に垂直方向の外削加工のプログラム(\verb|420\d{3}|)
    \item 湾曲に沿った方向の外削加工のプログラム(\verb|421\d{3}|)
    \end{enumerate}
  \end{enumerate}
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.5 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：3, 2桁目}
（6桁目が\ref{item:6Mmain} $\sim$ \ref{item:6KN}\hx の場合の）3桁目および2桁目の数字はともに0とする。(\verb|[1-6][0-6][0-2]0\d{2}|)



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% subsection 9.1.6 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\modHeadsection{番号付け：1桁目}
（6桁目が\ref{item:6Mmain} $\sim$ \ref{item:6KN}\hx の場合の）1桁目の数字は、以下のように分類する。
\begin{enumerate}[label=\alph*), ref=\alph*)]
\item 6桁目が\ref{item:6Kmain}\hx 以外の場合、1桁目は以下のように分類する
  \begin{enumerate}[label=\arabic*.]
  \item 主に$X$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}1|)
  \item 主に$Y$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}2|)
  \item 主に$Z$方向に測定または加工するプログラム(\verb|[1-356][1-5][0-2]0{2}3|)
  \item 工具から見て右回り（$XY$面）に加工するプログラム(\verb|40[12]10{2}|)
  \item 工具から見て左回り（$XY$面）に加工するプログラム(\verb|40[12]20{2}|)
  \end{enumerate}
\item 6桁目が\ref{item:6Kmain}（内面溝・逃し溝以外の加工）の場合、4桁目を以下にように分類する
  \begin{enumerate}[label=\alph{enumi}\,-\arabic*), leftmargin=\leftmargini]
  \item 5桁目が\ref{item:5KO}（外削加工）以外の場合、4桁目は0とする(\verb|4[13-6]0\d{3}|)
  \item 5桁目が\ref{item:5KO}（外削加工）の場合、4桁目を以下のように分類する
    \begin{enumerate}[label=\arabic*., ref=\arabic*, start=0, leftmargin=*]
    \item 端面に垂直方向の外削加工のプログラム(\verb|420\d{3}|)
    \item 湾曲に沿った方向の外削加工のプログラム(\verb|421\d{3}|)
    \end{enumerate}
  \end{enumerate}
\end{enumerate}
