%!TEX root = ../Mould_Analytical_Calculation_Note.tex

\makeatletter

\input{preamble_MACN/pictures_MACN}

%%%%%% DATE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\customdate}{%
  \the\year/\two@digits{\the\month}/\two@digits{\the\day}\
  \currenttime\ (\jadayofweek{\the\year}{\the\month}{\the\day})%
}
%%%%%% NEWIF %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newif\if@backmatter%\@backmattertrue
\newif\if@frontmatter%\@frontmattertrue
\newif\if@appendix%\@appendixfalse
%%%%%% TOC LINE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\tocPartSeparateline{\addtocontents{toc}{\protect\par\protect\hrulefill\protect\par\protect\vspace*{-10pt}}}%
\def\tocAPartSeparateline{\addtocontents{toc}{\protect\par\protect\vspace*{15pt}\protect\hrule width 0.5\linewidth\protect\par\protect\vspace*{-10pt}}}%
%%%%%% DEFINECOLOR %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{ai}     {rgb}{0.2039, 0.3765, 0.4314}
\definecolor{kon}    {rgb}{0.0000, 0.2000, 0.4000}
\definecolor{konpeki}{rgb}{0.0902, 0.5098, 0.7333}
\definecolor{moegi}  {rgb}{0.3020, 0.5961, 0.1882}
\definecolor{sssec}  {rgb}{0.7333, 0.5, 0.7333}
\definecolor{sora}   {rgb}{0.1451, 0.7216, 0.8039}
\definecolor{sumire} {rgb}{0.3882, 0.2157, 0.5922}
\definecolor{wwqqcc} {rgb}{0.4, 0, 0.8}
\definecolor{qqzzqq} {rgb}{0, 0.6, 0}
\definecolor{ffwwqq} {rgb}{1, 0.4, 0}
%%%%% LINK %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newcommand\nextsectionlink[1]{\addtocounter{section}\@ne
%                               \hyperlink{section.\thechapter.\the\c@section}{#1}%
%                               \addtocounter{section}{-\@ne}}
%\newcommand\previoussectionlink[1]{\addtocounter{section}{-\@ne}
%                                   \hyperlink{section.\thechapter.\the\c@section}{#1}%
%                                   \addtocounter{section}{\@ne}}
%\newcommand\previouschapterlink[1]{\addtocounter{chapter}{-\@ne}
%                                   \hyperlink{chapter.\the\c@chapter}{#1}%
%                                   \addtocounter{chapter}{\@ne}}
%%%%% REF %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\pageautoref}[1]{%
  \ifthenelse{\equal{\pageref{#1}}{\thepage}}%
    {\autoref{#1}}%
    {\autoref{#1}~[p.\pageref{#1}]}%
}
\newcommand{\pageeqref}[1]{%
  \ifthenelse{\equal{\pageref{#1}}{\thepage}}%
    {\eqref{#1}}%
    {\eqref{#1}~[p.\pageref{#1}]}%
}
%%%%% LISTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\modcaptionof}[2]
           {\captionof{#1}{\lstlistingname\thechapter.\ifnum\value{lstlisting}<10 0\fi\arabic{lstlisting}. #2}}
%%%%% PART FOR APPENDIX %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Appendixpart}{
  \part*{第\hx\hx\thepart\hx\hx 部の補遺}
  \addcontentsline{toc}{part}{第\hx\thepart\hx 部の補遺}
}
%%%%% AUTO LABELING %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% FOR CHAPTER OR APPENDIX %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\modHeadchapter}[2][]{%
  \ifx\relax#1\relax
    \chapter{#2}%
  \else%
    \chapter[#1]{#2}%
  \fi
  \ifx\@chapapp\appendixname
    \label{app:\thechapter}%
  \else
    \label{chap:\thechapter}%
  \fi
}
%%%%% FOR SECTION %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\modHeadsection}[2][]{%
  \ifx\relax#1\relax
    \section{#2}%
  \else%
    \section[#1]{#2}%
  \fi
  \label{sec:\thesection}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% DECLARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% DECLAREMATHOPERATOR %%%%%%%%%%%%%%%%%%%%
\DeclareMathOperator{\IP}{Im}
\DeclareMathOperator{\RP}{Re}
%%%%% DECLAREROBUSTCOMMAND %%%%%%%%%%%%%%%%%%%%
\DeclareRobustCommand{\bDiv}{\nonscript\mskip-\medmuskip\mkern5mu\mathbin
  {\operator@font div}\penalty900
  \mkern5mu\nonscript\mskip-\medmuskip}
\DeclareRobustCommand{\pod}[1]{\allowbreak
  \if@display\mkern18mu\else\mkern8mu\fi(#1)}
\DeclareRobustCommand{\pDiv}[1]{\pod{{\operator@font div}\mkern6mu#1}}
\DeclareRobustCommand{\Div}[1]{\allowbreak\if@display\mkern18mu
  \else\mkern12mu\fi{\operator@font div}\,\,#1}
%%%%% DECLARENEWLAYER %%%%%%%%%%%%%%%%%%%%
\DeclareNewLayer[
  foreground,
  page,
  contents={%
    \begin{tikzpicture}[remember picture, overlay]
      \node[rotate=atan(297/210), scale=21, anchor=center, opacity=0.1, text=lightgray] at (current page.center)
        {\scshape\WMsentence};%
    \end{tikzpicture}%
  }%
]{WatermarkLayer}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% NEWCOLORBOX %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{GlobalFootnote}% difine a counter Global Footnote
%%%%% COLUMN %%%%%
\newcommand{\Columnname}{Column}
\newtcolorbox[auto counter, number within=chapter]{Column}[2][]{Columnbox, title={#2}, #1}
%%%%% FIGBOX %%%%%
\newtcolorbox{Figbox}[1][]{Figurebox, #1}
%%%%% TABBOX %%%%%
\newtcolorbox{Tabbox}[1][]{Tabularbox, #1}
%%%%% HOSOKU %%%%%
\newcommand{\hosokuname}{補}
\definecolor{hosoku}{cmyk}{0, 0, 0, .15}
\newtcolorbox[auto counter, number within=chapter]{hosoku}[1][]{hosokubox, #1}
%%%%% TWOCTABLE %%%%%
\newtcolorbox[auto counter, number within=chapter]{twoCtable}[2][]{twoCtablebox, title={#2}, #1}
%%%%% OTHER TIKZ DEFINITION %%%%%%%%%%%%%%%%%%
\def\pgfname{\textsc{pgf}}
\def\tikzname{Ti\textit{k}Z}
\tikzfading[name=fade ball, inner color=transparent!60, outer color=transparent!30]
\def\sball#1{\tikz \shade [ball color=#1, path fading=fade ball] (0,0) circle (.7ex);}
\def\terminal#1#2{\tikz[baseline=(a.base)] \node (a) [terminal, bottom color=#2] {\small #1};}
%%%%% DIM %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\kanjiskip}{0.0pt plus 0.4pt minus 0.5pt}
\setlength{\xkanjiskip}{2.40555pt plus 1.0pt minus 1.0pt}
\newcommand{\hk}{\hspace{\kanjiskip}} % \kanjiskip at 12pt scrbook.cls
\newcommand{\hx}{\hspace{\xkanjiskip}} % \xkanjiskip at 12pt scrbook.cls
%%%%% PRG # %%%%%%%%%%%%%%%%%%
\newcommand\MXOThickness{O110001} % X外側中心計測
\newcommand\MYOThickness{O110002} % Y外側中心計測
\newcommand\MXIWidth{O110011} % X内側中心計測
\newcommand\MYIWidth{O110012} % Y内側中心計測
\newcommand\MXface{O110101} % X基準面計測
\newcommand\MYcenterline{O111002} % 通り芯Y
\newcommand\MXcenterline{O111003} % 通り芯X（Z測定）
\newcommand\DLone{O210000} % 内面溝用 レベル1
\newcommand\DLtwoAC{O220001} % 内面溝用 レベル2 AC
\newcommand\DLtwoBD{O220002} % 内面溝用 レベル2 BD
\newcommand\DMLthreeAC{O230001} % 内面溝 測定用 レベル3 AC
\newcommand\DMLthreeBD{O230002} % 内面溝 測定用 レベル3 BD
\newcommand\KRecRight{O515000} % 端面用 rectangle  左回り
\newcommand\KICRLeft{O515200} % 内面取用 コーナーR 左回り
\newcommand\KOCRLeft{O515600} % 内面取用 コーナーR 左回り
\newcommand\DKLthreeAC{O630001} % 内面溝 加工用 レベル3 AC
\newcommand\DKLthreeBD{O630002} % 内面溝 加工用 レベル3 BD
\newcommand\OsensorOn{O910001} % タッチセンサーON
\newcommand\OsensorOff{O910002} % タッチセンサーOFF
%%%%% MACHINING NAME %%%%%%%%%%%%%%%%%%
\newcommand{\DMname}{Dマシニング}
\newcommand{\MMname}{Mマシニング}
%%%%% LINK NAME %%%%%%%%%%%%%%%%%%
\newcommand{\linkLaTeX}{\href{https://www.latex-project.org/}{\LaTeX}}
\newcommand{\linkLaTeXProject}{\href{https://www.latex-project.org/}{\LaTeX\ Project}}
\newcommand{\linkTeXLive}{\href{https://tug.org/texlive/}{\TeX\ Live}}
\newcommand{\linkTeXUsersGroup}{\href{http://www.tug.org/}{\TeX\ Users Group}}
\newcommand{\linkBibLaTeX}{\href{https://ctan.org/pkg/biblatex}{Bib\LaTeX}}
\newcommand{\linkBiber}{\href{https://ctan.org/pkg/biber}{Biber}}
\newcommand{\linkPhilippLehman}{\href{https://www.su.se/english/profiles/plehm-1.218839}{Philipp Lehman}}
\newcommand{\linkPGFTikZ}{\href{https://github.com/pgf-tikz/pgf}{\pgfname/\tikzname}}
\newcommand{\linkTillTantau}
           {\href{http://www.tcs.uni-luebeck.de/en/mitarbeiter/tantau/cv/index.html}{Till Tantau}}
\newcommand{\linkTeXStudio}{\href{https://texstudio.org/}{\TeX\ Studio}}
\newcommand{\linkBenitoVdZ}{\href{https://dev.to/benibela}{Benito van der Zander}}
\newcommand{\linkVSCode}{\href{https://code.visualstudio.com/}{VSCode}}
\newcommand{\linkExcel}{\href{https://www.microsoft.com/ja-jp/microsoft-365/excel}{Excel}}
\newcommand{\linkMicrosoftCorp}{\href{https://www.microsoft.com/}{Microsoft Corporation}}
\newcommand{\linkPython}{\href{https://www.python.org/}{Python}}
\newcommand{\linkPythonSF}{\href{https://www.python.org/psf-landing/}{Python Software Foundation}}
\newcommand{\linkGitHub}{\href{https://github.com/}{GitHub}}
\newcommand{\linkGitHubInc}{\href{https://github.com/}{GitHub, Inc}}
\newcommand{\linkDocker}{\href{https://www.docker.com/}{Docker}}
\newcommand{\linkDockerInc}{\href{https://www.docker.com/}{Docker, Inc}}
\newcommand{\linkUbuntu}{\href{https://ubuntu.com/}{Ubuntu}}
\newcommand{\linkCanonicalLtd}{\href{https://canonical.com/}{Canonical Ltd}}
\newcommand{\linkSQLite}{\href{https://www.sqlite.org/}{SQLite}}
\newcommand{\linkSQLiteConsortium}{\href{https://www.sqlite.org/consortium.html}{SQLite Consortium}}
%%%%% OTHER DEFINITION %%%%%%%%%%%%%%%%%%
\def\termblue#1{\terminal{\color{blue}\fontsize{8pt}{0pt}\textbf{#1}}{gray!25}\hskip6pt}
\def\pcrNum{\ifmmode{{\fontfamily{pcr}\selectfont{\text\#}}}\else{{\fontfamily{pcr}\selectfont\#}}\fi}
\newcommand\cf{{\itshape cf.\,}}
