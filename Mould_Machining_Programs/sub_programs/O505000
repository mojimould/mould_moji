%
O505000
(rectangle 1shuu, ar MigiMawari)

IF[#24EQ#0]GOTO800
IF[#24LE0]GOTO800
IF[#25EQ#0]GOTO800
IF[#25LE0]GOTO800
IF[#26EQ#0]GOTO800
IF[#06EQ#0]GOTO800
IF[#06LT0]GOTO800
IF[#07EQ#0]GOTO800
IF[#07LT2]GOTO800
IF[#07GT200]GOTO800
(if X <= 0 or #0, go to N800)
(if Y <= 0 or #0, go to N800)
(if Z = #0, go to N800)
(if K <= 0 or #0, go to N800)
(if D < 2 or D > 200 or #0, go to N800)

IF[#26LE[#411/2]]GOTO800
IF[[FIX[#07]]NE#07]GOTO800
(if Z <= #411/2, go to N800)
(if D is not integer, go to N800)

#33=#24-10
#32=#25-10
(XY: naikei-10)

G90 G00 X[#33/2] Y#32
(G90 X+:AC naikei/2 -5, Y+:BD naikei -10)

G90 G00 G43 H#07 Z[#26+#06] S#19
(hosei kouguChou H#, Z: tanmen)

(for E)
IF[#08EQ#0]GOTO001
(if E = #0, go to N001)
IF[#08LE0]GOTO800
(if E <= 0, go to N800)
GOTO002
N001
#08=#[2400+#07]
(default: E= kouguKei hosei #07)

N002 (for F)
IF[#09EQ#0]GOTO003
(if F = #0, go to N003)
IF[#09LE0]GOTO800
(if F <= 0, go to N800)
GOTO004
N003
#09=900 (default: F= 900)

N004 (for S)
IF[#19EQ#0]GOTO005
(if S = #0, go to N005)
IF[#19LE200]GOTO800
(if S <= 200, go to N800)
GOTO006
N005
#19=950 (default: S= 950)

N006
M03 (shujiku kaiten on)
M08 (coolant on)

G91 G00 G41 D#07 Y-[#32-#08]
(hosei kouguKei #07: X+)
(ar:Y-:[BD gaikei/2 - nigashi])


(Kokokara G01)

G91 G01 Y-[#32+#08] F#09
(r:Y-:[BD naikei/2 +E-5.], speed #09)
G91 G01 X-#33 (b:X-: AC gaikei)
G91 G01 Y#32 (l:Y+: BD gaikei)
G91 G01 X[#33+#08] (a:X+:[AC gaikei + nigashi])


(Kokokara G00)

G91 G00 G40 X[#24/2] Y#08
(cancel hosei kouguKei)
(X+: BD gaikei/2, Y+: nigashi)

M05 (shujiku kaiten off)
M09 (coolant off)

G90 G00 Z[#26+100]
GOTO999

N800
#3000=121 (are the arguments OK?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#07:D: hosei kouguKei&Chou #)
(#24:X: AC naikei)
(#25:Y: BD naikei)
(#26:Z: sai-furiwake Z)
(as received hidden arguments)
(#08:E: kougu nigashiRyou)
(#09:F: speed)
(#19:S: kaitenSuu)


(Common variable)
(#411)


(System variables)
(#3000: alarm)
%