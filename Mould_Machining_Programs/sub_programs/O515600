%
O515600
(sotogawa 1shuu Corner R, al HidariMawari)

IF[#24EQ#0]GOTO800
IF[#24LE0]GOTO800
IF[#25EQ#0]GOTO800
IF[#25LE0]GOTO800
IF[#26EQ#0]GOTO800
IF[#13LT0]GOTO800
IF[#07EQ#0]GOTO800
IF[#07LT2]GOTO800
IF[#18EQ#0]GOTO800
IF[#18LE0]GOTO800
IF[#08EQ#0]GOTO800
IF[#08LE0]GOTO800
IF[#09EQ#0]GOTO800
IF[#09LE0]GOTO800
IF[#19EQ#0]GOTO800
IF[#19LE0]GOTO800
(if X <= 0 or #0, go to N800)
(if Y <= 0 or #0, go to N800)
(if Z = #0, go to N800)
(if M < 0, go to N800)
(if D < 2 or #0, go to N800)
(if R <= 0 or #0, go to N800)
(if E <= 0 or #0, go to N800)
(if F <= 0 or #0, go to N800)
(if S <= 0 or #0, go to N800)

IF[[#26-#13-#901009]LE[#461/2]]GOTO800
IF[[ABS[#17]]GE[#25/2]]GOTO800
IF[#18GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
IF[[FIX[#07]]NE#07]GOTO800
IF[#04GE#18]GOTO800
(if Z-M-#901009 <= #461/2, go to N800)
(if |Q| >= Y/2, go to N800)
(if R >= min[X/4, Y/4], go to N800)
(if D is not integer, go to N800)
(if I >= R, go to N800)

IF[#04NE#0]GOTO001
#04=0

N001
G90 G00 X#04 Y0 F10800
(X: work genten +I)
(Y: work genten)

#33=#25+#17 (#33= hosei: BD gaikei +Q)
#32=#33+#33/2 (#32= BD gaikei*1.5)
#31=#24+#17-#18*2 (#31= AC chokusenBu [X+Q-2R])

G91 G00 X-[[#24+#17]/2] Y#32 F10800
(al: X-: AC gaikei/2)
(Y+: 1.5*BD gaikei)

IF[#4111GE6]GOTO002
IF[#4111LE10]GOTO002
(if 6 <= H# <=10, go to N002)
#30=0
GOTO003
N002
#30=#901009

N003
G90 G43 G01 H#07 Z[#26-#13-#30] S#19 F5400
(hosei kouguChou: #07)
(Z+ tanmen, kaitenSuu #19)

G91 G42 G01 D#07 Y-[#33/2] F5400
(hosei kouguKei: #07)
(al: Y- BD gaikei/2)

M03 (shujiku kaiten on)
M08 (coolant on)


(Kokokara G01)

G91 G01 Y-[#32-#18] F#09
(l:Y-:[1.5*BD gaikei - nigashi])
G91 G03 X#18 Y-#18 I#18 J0 F#08
(bl corner: R#18 [R, 0] X+Y-)
G91 G01 X#31 F#09
(b: X+ AC chokusenBu)
G91 G03 X#18 Y#18 I0 J#18 F#08
(br corner: R#18 [0, R] X+Y+)
G91 G01 Y[#33-#18*2] F#09
(r: Y+ BD chokusenBu)
G91 G03 X-#18 Y#18 I-#18 J0 F#08
(ar corner: R#18 [-R, #0] X-Y+)
G91 G01 X-#31 F#09
(a: X- AC chokusenBu)
G91 G03 X-#18 Y-#18 I0 J-#18 F#08
(al corner: R#18 [0, -R] X-Y-)
G91 G02 X-60. Y-60. I-60. J0 F#09
(G02 R60 [-60., 0] X-Y-)


(Kokokara G00)

G90 G40 G00 Y[#33/2] F5400
(hosei cancel kouguKei)
(Y+ BD gaikei/2)

G90 G00 Z[#26+#491] F10800
(Z: tanmen+#491)
GOTO999

N800
M05 (shujiku kaiten off)
M09 (coolant off)
#3000=121 (are the arguments OK?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#24:X: AC gaikei)
(#25:Y: BD gaikei)
(#26:Z: sai-furiwake)
(#13:M: mizoIchi)
(#18:R: corner R)
(#17:Q: +hosei X&Y)
(#07:D: kouguKei&Chou hosei)
(#09:F: speed chokusenBu)
(#08:E: speed corner R)
(#19:S: kaitenSuu)
(as received hidden arguments)
(#04:I: +hosei AC center)

(as LHS)
(#30, #31, #32, #33)


(Common variable)
(as RHS)
(#461, #491, #901009)


(System variables)
(#3000: alarm)
(#4111: current H#)
%