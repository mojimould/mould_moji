%
O430000
(Mizo Corner R or C, ar HidariMawari 1shuu)

N001
IF[#07EQ#0]GOTO800
IF[#24EQ#0]GOTO800
IF[#24LT10]GOTO800
IF[#25EQ#0]GOTO800
IF[#25LT10]GOTO800
IF[#26EQ#0]GOTO800
IF[#13EQ#0]GOTO800
IF[#13LE1]GOTO800
IF[#23LT#0]GOTO800
IF[#23LE1]GOTO800
(if D = #0, go to N800)
(if X < 10 or #0, go to N800)
(if Y < 10 or #0, go to N800)
(if Z = #0, go to N800)
(if M < 1, or #0, go to N800)
(if W < 1, or #0, go to N800)

N002
IF[#01EQ1]GOTO003
IF[#01EQ2]GOTO004
IF[#01EQ3]GOTO005
IF[#01EQ4]GOTO005
GOTO800
(if A is not 1, 2, 3, 4, go to N800)

N003 (for R)
IF[#18EQ#0]GOTO800
IF[#03NE#0]GOTO800
IF[#18LT0.1]GOTO800
IF[#18GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
(if R < 0.1 or R >= min[X/4, Y/4], go to N800)
GOTO006

N004 (for C)
IF[#03EQ#0]GOTO800
IF[#18NE#0]GOTO800
IF[#03LT0.1]GOTO800
IF[#03GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
(if C < 0.1 or C >= min[X/4, Y/4], go to N800)
GOTO006

N005 (for rec or BD only)
IF[#03NE#0]GOTO800
IF[#18NE#0]GOTO800

N006 (for F)
IF[#09NE#0]GOTO007
#09=500.0
N007 (for E)
IF[#08NE#0]GOTO008
#08=400.0
N008 (for S)
IF[#19NE#0]GOTO009
#19=930.0
N009 (for Q)
IF[#17NE#0]GOTO010
#17=0
N010 (for I)
IF[#04NE#0]GOTO011
#04=0
(default: F=500.)
(default: E=400.)
(default: S=930.)
(default: Q=0)
(default: I=0)

N011
IF[#09LT10]GOTO800
IF[#08LT10]GOTO800
IF[#19LT200]GOTO800
(if F < 10, go to N800)
(if E < 10, go to N800)
(if S < 200, go to N800)

N012
IF[[#26-#13-#23-#901009-#901010]LE[#461/2]]GOTO800
IF[[ABS[#17]]GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
IF[#07LT6]GOTO800
IF[#07GT10]GOTO800
IF[[FIX[#07]]NE#07]GOTO800
IF[[ABS[#04]]GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
(if Z-M-W-#901009-#901010 <= #461/2, go to N800)
(if |Q| >= min[X/4, Y/4], go to N800)
(if D < 6 or D > 10 or D is not integer, go to N800)
(if |I| >= min[X/4, Y/4], go to N800)

N013
#33=#[2400+#07]+#[2600+#07]
#32=[#492+#33+ABS[#492-#33]]/2
(#32: max[30, hosei kouguKei])

N014
IF[#07EQ6]GOTO015
IF[#07EQ7]GOTO016
IF[#07EQ8]GOTO017
IF[#07EQ9]GOTO018
N015 (for T06)
#30=#605
GOTO019
N016 (for T07)
#30=#607
GOTO019
N017 (for T08)
#30=#609
GOTO019
N018 (for T09)
#30=#611
(#30: kougu Thickness)

N019
#29=#24+#17
#28=#25+#17
(#29: X+Q)
(#28: Y+Q)


(kokokara G00)


N020
G90 G43 G00 H#07 Z[#26+#491] F7200
G90 G00 X[[#29/2]+#32*3+#04] Y[#28/2] F10800
G42 D#07
G91 G00 X-[#32/2] F10800
G90 G01 Z[#26-#13-#901009-#30] S#19 F5400

N021
M03 (shujiku kaiten on)
M08 (coolant on)

N022
G90 G01 X[[#29/2]+#32*2+#04] Y[#28/2] F5400

N023
IF[#01EQ1]GOTO024
IF[#01EQ2]GOTO025
IF[#01EQ3]GOTO026
IF[#01EQ4]GOTO027
GOTO800

N024 (for R)
G65 P490005 A#01 R#18 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO028
N025 (for C)
G65 P490005 A#01 C#03 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO028
N026 (for rec)
G65 P490005 A#01 X#29 Y#28 D#32 F#09 S#19
GOTO028
N027 (for BD only)
G65 P490005 A#01 X[#29+#32] Y#28 D#32 F#09 S#19

N028
IF[#02NE3]GOTO035
G90 G40 G00 X[[#29/2]+#32*3+#04] F10800
G90 G00 Y[#28/2] F10800
G42 D#07
G91 G00 X-[#32/2] F10800
G90 G01 Z[#26-[#13+#901009+[#23+#901010+#30]/2]] S#19 F5400

N029
G90 G01 X[[#29/2]+#32*2+#04] Y[#28/2] F5400

N030
IF[#01EQ1]GOTO031
IF[#01EQ2]GOTO032
IF[#01EQ3]GOTO033
IF[#01EQ4]GOTO034
GOTO800

N031 (for R)
G65 P490005 A#01 R#18 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO035
N032 (for C)
G65 P490005 A#01 C#03 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO035
N033 (for rec)
G65 P490005 A#01 X#29 Y#28 D#32 F#09 S#19
GOTO035
N034 (for BD only)
G65 P490005 A#01 X[#29+#32] Y#28 D#32 F#09 S#19

N035
G90 G40 G00 X[[#29/2]+#32*3+#04] F10800
G90 G00 Y[#28/2] F10800
G42 D#07
G91 G00 X-[#32/2] F10800
G90 G01 Z[#26-#13-#23-#901009-#901010] S#19 F5400

N036
G90 G01 X[[#29/2]+#32*2+#04] Y[#28/2] F5400

N037
IF[#01EQ1]GOTO038
IF[#01EQ2]GOTO039
IF[#01EQ3]GOTO040
IF[#01EQ4]GOTO041
GOTO800

N038 (for R)
G65 P490005 A#01 R#18 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO042
N039 (for C)
G65 P490005 A#01 C#03 X#29 Y#28 D#32 F#09 E#08 S#19
GOTO042
N040 (for rec)
G65 P490005 A#01 X#29 Y#28 D#32 F#09 S#19
GOTO042
N041 (for BD only)
G65 P490005 A#01 X[#29+#32] Y#28 D#32 F#09 S#19

N042
M05 (shujiku kaiten off)
M09 (coolant off)

N043
G90 G40 G00 X[#29+#32*3] F10800
S200
G90 G43 G00 H#07 Z[#26+#491] F7200
G91 G28 Z0
GOTO999

N800
M05 (shujiku kaiten off)
M09 (coolant off)
#3000=121 (are the arguments OK?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#07:D: kouguKei&Chou hosei)
(#13:M: mizoIchi)
(#18:R: corner R)
(#23:W: mizoHaba)
(#24:X: AC gaikei)
(#25:Y: BD gaikei)
(#26:Z: sai-furiwake)
(as received hidden arguments)
(#04:I: +hosei AC center)
(#08:E: speed corner R)
(#09:F: speed chokusenBu)
(#17:Q: +hosei X&Y)
(#19:S: kaitenSuu)

(as LHS)
(#28, #29, #30, #31, #32, #33)


(Common variable)
(as RHS)
(#461, #491, #492, #901009, #901010)


(System variables)
(#24xx: #xx kouguKei)
(#26xx: #xx kouguKeiMamou)
(#3000: alarm)


(Subprograms)
(O490005)


(Passed arguments)
(#01, #03, #08, #09, #19, #28, #29, #32)
%