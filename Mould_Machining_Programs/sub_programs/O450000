%
O450000
(Uchigawa Mentori Corner R, ac HidariMawari 1shuu)

N001
IF[#07EQ#0]GOTO800
IF[#24EQ#0]GOTO800
IF[#24LT10]GOTO800
IF[#25EQ#0]GOTO800
IF[#25LT10]GOTO800
IF[#26EQ#0]GOTO800
IF[#23EQ#0]GOTO800
IF[#23LT0.1]GOTO800
IF[#18EQ#0]GOTO800
IF[#18LT0.1]GOTO800
IF[#13EQ#0]GOTO800
IF[#13LT0]GOTO800
IF[#07LT2]GOTO800
IF[#07GT200]GOTO800
(if D = #0, go to N800)
(if X < 10 or #0, go to N800)
(if Y < 10 or #0, go to N800)
(if Z = #0, go to N800)
(if W < 0.1 or #0, go to N800)
(if M < 0 or #0, go to N800)
(if R <= 0.1 or #0, go to N800)

N002 (for F)
IF[#09NE#0]GOTO003
#09=400.
N003 (for S)
IF[#19NE#0]GOTO004
#19=1800.
N004 (for I)
IF[#04NE#0]GOTO005
#04=0
N005 (for K)
IF[#06NE#0]GOTO006
#06=0
N006 (for A)
IF[#01NE#0]GOTO007
#01=15.
(default: F=400.)
(default: S=1800.)
(default: I=0)
(default: K=0)
(default: A=15.)

N007
IF[#09LT10]GOTO800
IF[#19LT200]GOTO800
(if F < 10, go to N800)
(if S < 200, go to N800)

N008
IF[#01LT1]GOTO800
IF[#01GE[#25/2]]GOTO800
IF[[#26-#23]LE[#461/2]]GOTO800
IF[#18GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
IF[[ABS[#04]]GE#18]GOTO800
IF[#07LT11]GOTO800
IF[#07GT15]GOTO800
IF[[FIX[#07]]NE#07]GOTO800
IF[#13GE#18]GOTO800
(if A < 1 or A >= Y/2, go to N800)
(if Z-W <= #461/2, go to N800)
(if R >= min[X/4, Y/4], go to N800)
(if |I| >= R, go to N800)
(if D < 11 or D > 15 or D is not integer, go to N800)
(if M >= R, go to N800)

N009
#33=#25-[#18*2]
#32=#24-[#18*2]
#31=#18+#13
(#33= BD chokusenBu [X - R*2])
(#32= AC chokusenBu [Y - R*2])
(#31= R+M)


(kokokara G00)


N010
G90 G43 G00 H#07 Z[#26+#491] F8100
G90 G00 X#04 Y0 F10800
G90 G01 Z[#26-#23+#06] F5400 S#19
(hosei: AC center: +: X+, -: X-)
(hosei kouguChou: #07)
(hosei Z: Z-W+K)

N011
M03 (shujiku kaiten on)
M08 (coolant on)

N012
G91 G41 G01 D#07 X#01 Y[[#25/2]+#13-#01] F5400
(hosei kouguKei, kougu #07)
(X+: A)
(Y+: Y/2+M-A)
G91 G03 X-#01 Y#01 I-#01 J0 F#09
(ac: approach R #01 [-#01, 0] X-Y+)
G91 G01 X-[#32/2] F#09
(ac2al: X- AC chokusenBu/2)
G91 G03 X-#31 Y-#31 I0 J-#31
(al corner: R #31 [0, -#31] X-Y-)
G91 G01 Y-#33
(l:Y-: BD chokusenBu)
G91 G03 X#31 Y-#31 I#31 J0
(bl corner: R #31 [#31, 0] X+Y-)
G91 G01 X#32
(b:X+: AC chokusenBu)
G91 G03 X#31 Y#31 I0 J#31
(br corner: R #31 [0, #31] X+Y+)
G91 G01 Y#33
(r:Y+: BD chokusenBu)
G91 G03 X-#31 Y#31 I-#31 J0
(ar corner: R #31 [-#31, 0] X-Y+)
G91 G01 X-[#32/2]
(ar2ac:X-: AC chokusenBu/2)
G91 G03 X-#01 Y-#01 I0 J-#01
(ac: approach R #01 [0, -#01] X-Y-)

N013
G90 G00 G40 X0 Y0 F5400
G90 G00 Z[#26+#491] F8100
(XY: work genten)
(Z: tanmen+#491)
GOTO999

N800
M05 (shujiku kaiten off)
M09 (coolant off)
#3000=121 (are the arguments OK?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#07:D: hosei kouguKei)
(#13:M: mekki)
(#18:R: corner R)
(#23:W: mentori length C)
(#24:X: AC naikei)
(#25:Y: BD naikei)
(#26:Z: sai-furiwake)
(as received hidden arguments)
(#01:A: approach R)
(#04:I: +hosei X center)
(#06:K: +hosei Z)
(#09:F: speed)
(#19:S: kaitenSuu)

(as LHS)
(#31, #32, #33)


(Common variable)
(as RHS)
(#461, #491)


(System variables)
(#3000: alarm)
%