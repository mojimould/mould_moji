%
O515000
(XY sotogawa-V 1shuu Coner R, ar MigiMawari)
(default: V=5, F=900, S=950)

IF[#24EQ#0]GOTO800
IF[#24LE0]GOTO800
IF[#25EQ#0]GOTO800
IF[#25LE0]GOTO800
IF[#18EQ#0]GOTO800
IF[#18LE0]GOTO800
IF[#26EQ#0]GOTO800
IF[#06EQ#0]GOTO800
IF[#06LT0]GOTO800
IF[#11EQ#0]GOTO800
IF[#11LT2]GOTO800
IF[#11GT200]GOTO800
(if X <= 0 or #0, go to N800)
(if Y <= 0 or #0, go to N800)
(if R <= 0 or #0, go to N800)
(if Z = #0, go to N800)
(if K < 0 or #0, go to N800)
(if H < 2 or H > 200 or #0, go to N800)

IF[#26LE[#461/2]]GOTO800
IF[[FIX[#11]]NE#11]GOTO800
IF[#601EQ#0]GOTO800
IF[#601LE1]GOTO800
IF[#18GE[[#24+#25-ABS[#24-#25]]/8]]GOTO800
(if Z <= #461/2, go to N800)
(if H is not integer, go to N800)
(if #601 <=1 or empty, go to N800)
(if R >= min[X/4, Y/4], go to N800)

(for V)
IF[#22EQ#0]GOTO001
(if V = #0, go to N001)
IF[#22LT1]GOTO800
IF[#22GE[#601/2]]GOTO800
(if V < 1 or V >= #601/2, go to N800)
GOTO002
N001
#22=5 (default: V=5)

N002 (for F)
IF[#09EQ#0]GOTO003
(if F = #0, go to N003)
IF[#09LE0]GOTO800
IF[[FIX[#09]]NE#09]GOTO800
(if F <= 0 or not integer, go to N800)
GOTO004
N003
#09=900 (default: F=900)

N004 (for S)
IF[#19EQ#0]GOTO005
(if S = #0, go to N005)
IF[#19LE200]GOTO800
IF[[FIX[#19]]NE#19]GOTO800
(if S <= 200 or not integer, go to N800)
GOTO006
N005
#19=950 (default: S=950)

N004
#33=[#24/2]-#22+#[2400+#11]+#[2600+#11]
#32=[#25/2]-#22+#[2400+#11]+#[2600+#11]
(XY: naikei/2 -V +DC/2)


(Kokokara G00)

G90 G00 G40 X#33 Y[#25/2+#601] F10800
(G40: cancel keiHosei)
(G90 X: naikeiAC/2 -V +DC/2)
(G90 Y: naikeiBD/2 +DCX)

G90 G01 G43 H#11 Z[#26+#06] S#19 F5400
(hosei kouguChou H#, Z: tanmen+K)
M03 (shujiku kaiten on)
M08 (coolant on)


(Kokokara G01)

G90 G01 Y-[#32-#18] F#09
(r:Y:-[naikeiBD/2 -V +DC/2 -R], speed #09)
G91 G02 X-#18 Y-#18 I-#18 J0
(G02 R#18 [-R, 0] X-Y-)
G90 G01 X-[#33-#18]
(b:X:-[naikeiAC/2 -V +DC/2 -R])
G91 G02 X-#18 Y#18 I0 J#18
(G02 R#18 [0, R] X-Y+)
G90 G01 Y[#32-#18]
(l:Y:[naikeiBD/2 -V +DC/2])
G91 G02 X#18 Y#18 I#18 J0
(G02 R#18 [R, 0] X+Y+)
G90 G01 X[#33-#18]
(a:X:[naikeiAC/2 -V +DC/2])
G91 G02 X#18 Y-#18 I0 J-#18
(G02 R#18 [0, -R] X+Y-)
G91 G03 X[#[2400+#11]] Y-[#[2400+#11]] I[#[2400+#11]] J0


(Kokokara G00)

M05 (shujiku kaiten off)
M09 (coolant off)

G90 G00 Z[#26+#06+100] F10800
GOTO999

N800
#3000=121 (are the arguments OK?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#11:H: hosei kouguChou #)
(#18:R: sotogawa coner R)
(#24:X: AC naikei)
(#25:Y: BD naikei)
(#26:Z: sai-furiwake)
(as received hidden arguments)
(#09:F: speed)
(#19:S: kaitenSuu)
(#22:V: -hosei: naikei/2)

(as LHS)
(#32, #33)


(Common variable)
(#461, #601)


(System variables)
(#3000: alarm)
(#24xx: hosei kouguKei)
%