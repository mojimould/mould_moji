%
O630002 (for BD dimples kakou)
(level 3: kakou dimple)
(J > 0: Y+, J < 0: Y-)

IF[#05EQ0]GOTO800
IF[#05EQ#0]GOTO800
(if J = 0 or empty, to N800)

#33=#5042
(#33= current work X: start point Y)
#32=#[2400+#4111]+#[2600+#4111]
(#32= hosei KouguKei + Mamou)

IF[#05LT0]GOTO001 (if J < 0 then to N001)
#31=1 (for B)
(if J > 0, #31=1)
IF[#4111EQ31]GOTO002
IF[#4111EQ32]GOTO003
IF[#4111EQ33]GOTO004
(if H#=31, go to N002)
(if H#=32, go to N003)
(if H#=33, go to N004)
GOTO800
N002 (for T31)
#30=#105
GOTO008
N003 (for T32)
#30=#110
GOTO008
N004 (for T33)
#30=#115
GOTO008

N001
#31=-1 (for D)
(if J < 0, #31=-1)
IF[#4111EQ31]GOTO005
IF[#4111EQ32]GOTO006
IF[#4111EQ33]GOTO007
(if H#=31, go to N005)
(if H#=32, go to N006)
(if H#=33, go to N007)
GOTO800
N005 (for T31)
#30=#106
GOTO008
N006 (for T32)
#30=#111
GOTO008
N007 (for T33)
#30=#116

N008
G90 G01 Y[#23-#31*[#32+5.0]] F500
(Y+: #23-#32-5.0 or Y-: #23+#32+5.0, speed 500)
G91 G01 Y[#31*5.0] F200
G91 G01 Y[#31*[#21+#30]] F100
(Y+ or Y-: 5.0, speed 200)
(Y+ or Y-: U+hosei, speed 100)
G90 G01 Y#33 F6400
(G90 G01 Y: to start point)
GOTO999 (to N999)

N800
#3000=121 (Argument Is Not Assigned)
M00 (are arguments ok?)

N999 M99

(Used Variables and Programs)

(Local variables)

(as received arguments)
(#05:J: +:Y+direction, -:Y-direction)
(#21:U: the depth of dimples)
(#23:W: the position of the dimple)

(as LHS)
(#30, #31, #32, #33)


(Common variables)
(as RHS)
(#105, #106, #110, #111, #115, #116)


(System variables)
(#3000: alarm)
(#5042: current work Y)
%