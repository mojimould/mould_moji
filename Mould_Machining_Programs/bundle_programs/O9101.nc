%
O9101(TOOL-LENGTH-MEASUREMENT)
#30=#4001
#31=#4003
#24=#516(X)
#25=#517(Y)
#26=#518(Z)
#21=#24-#5021+#4
#22=#25-#5022+#5
#23=#5023
#11=#4111
G80M9
G91G28Z0M19
G49G91G0X#21Y#22
#27=#[10000+#11]+#[11000+#11]
M32
G4X2.
G31P2Z[#26+#27+#504]F#513
M49
#17=#5043-#504
G31P2G91Z-[#504+#506+#506]F#514
M48
#18=ABS[#17-#5063]
IF[#18GT#506]GOTO2
#[10000+#11]=#[10000+#11]-[#17-#5063]
G91G0Z50.
M33
G28Z0
G0X-#21Y-#22
GOTO99
N2G91G0Z50.
M33
#3000=141(TOOL-CHECK)
N99G22G#30G#31
M99
%
