%
O9729(REN*OPTIMISATION)
#13=1.1(POT*MAX*FEED*OVERRIDE)
#19=30(MM*SLOW*MEAS*FEED)
#20=2000(MM*FAST*MEAS*FEED)
#3=40(COUNT*LIMIT)
()
#112=0
IF[#8NE3]GOTO3
#112=#116
N3
#2=1
IF[#22LT0]GOTO4
#2=-1
N4
#32=1
#29=#20
M98P9723
#140=#5041
#141=#5042
#142=#5043-#116
G31R1Z#142F[25.*#129]
#131=#140
#132=#141
#133=#142
#[130+#8]=#[130+#8]+[#22]
#14=1
WHILE[#14LE3]DO1
#3004=2
G31R1X#131Y#132Z#133F[#29*#129]
#3004=0
#4=#5061-#131
#30=#5062-#132
#130=[#5063-#116]-#133
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO6
#149=2
GOTO38
N6
#4=#5061-#140
#30=#5062-#141
#130=[#5063-#116]-#142
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO7
#149=1
GOTO38
N7
IF[#14NE1]GOTO8
G04X.1
M98P9723
#121=#[5040+#8]-#112
#15=#[5060+#8]-#112
#27=#29
N8
#24=#5041
#25=#5042
#26=#5043-#116
#[23+#8]=#[5040+#8]+[[[#29/400]+.1]*#129*#2]-#112
G01X#24Y#25Z#26F[#119*0.6]
M98P9723
IF[#14NE1]GOTO9
#29=500
GOTO10
N9
IF[#14NE2]GOTO10
#31=#[5060+#8]-#112
#29=15
N10
#14=#14+1
END1
#14=0
#124=#[5060+#8]-#112
#31=ABS[#31-#124]/[[500-15]*#129]*60*1000
#31=ROUND[#31*10]/10
#124=#124+[[#15-#124]*15/[15-#20]]
#122=ABS[#124-#121]/#27*1000
#29=#20
#12=[.1*#129]+[#29*#122/1000]
#[23+#8]=#124+[#12*#2*1.5]
G01X#24Y#25Z#26F[#29*#129]
M98P9723
#131=#24
#132=#25
#133=#26
#[130+#8]=#124-[#12*#2*3]
#14=1
N11
#128=0
WHILE[#14LE#3]DO1
M98P9723
G04X.6(SG*DWELL)
#3004=2
G31R1X#131Y#132Z#133F[#29*#129]
#3004=0
#4=#5061-#131
#30=#5062-#132
#130=[#5063-#116]-#133
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO12
#149=2
GOTO38
N12
#4=#5061-#24
#30=#5062-#25
#130=[#5063-#116]-#26
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO13
#149=1
GOTO38
N13
G04X.1
M98P9723
#128=#128+[#[5060+#8]-#112]
#125=[#[5060+#8]-#112]/#129
#16=[#[5040+#8]-#112]/#129
IF[#14GT1]GOTO14
#5=#125
#6=#125
IF[#32EQ2]GOTO16
#126=#16
#10=#16
GOTO16
N14
IF[#29NE#20]GOTO16
IF[#16LT#126]GOTO15
#126=#16
N15
IF[#16GT#10]GOTO16
#10=#16
N16
IF[#125LT#5]GOTO17
#5=#125
N17
IF[#125GT#6]GOTO18
#6=#125
N18
#4=[#29/250000]+.001
#[23+#8]=#[23+#8]+[#4*#129*#2]
G01X#24Y#25Z#26F#113
#14=#14+1
END1
#14=1
IF[#32NE2]GOTO19
#7=ABS[#6-#5]
#29=#20
GOTO20
N19
#29=#19
#32=#32+1
#17=ABS[#6-#5]
#134=#128/#3
#12=.1*#129*#2
#[23+#8]=#124+[#12*1.5]
#[130+#8]=#124-[#12*3]
G01X#24Y#25Z#26F[#20*#129]
G04X.15
M98P9723
GOTO11
N20
#128=#128/#3
#7=[FUP[#7*1000]]/1000
#17=[FUP[#17*1000]]/1000
#144=[#7*1000]+#17
#126=ABS[#126-[#124/#129]]
#10=ABS[#10-[#124/#129]]
#135=#126
IF[#10LT#126]GOTO21
#135=#10
N21
IF[#8NE3]GOTO22
#137=#29*#23/#135/#13
GOTO23
N22
#137=#29*#21/#135/#13
N23
#137=FIX[#137/100]*100
IF[#137LE[#9/#13]]GOTO24
#137=[#9/#13]
N24
#138=#137
IF[#17-#7LE0]GOTO25
#138=#19+[[#29-#19]*[#11-#7]/[#17-#7]]
N25
#138=FIX[#138/10]*10
IF[#138GT#19]GOTO26
#138=#19
N26
IF[#138LT#137]GOTO27
#138=FIX[#137/10*.8]*10
N27
IF[#138LE#20]GOTO28
#138=#20
N28
#109=#31
#110=#135/#20*1000*1.005
#137=FIX[#137]
#24=#5001
#25=#5002
#26=#5003
#12=[.1*#129]+[[#137/2]*#13*[#110*#129]/1000]
#12=#12*#2
#[23+#8]=#124+[#12*.5]
G01X#24Y#25Z#26F[#20*#129]
M98P9723
#[23+#8]=#124+[#12*1.1]
G31R1X#24Y#25Z#26F[#20*#129]
#4=#5061-#24
#30=#5062-#25
#130=[#5063-#116]-#26
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
#149=1
IF[#1GE#123]GOTO38
#149=0
#[130+#8]=#124-[#12*1.1]
#3004=2
G31R1X#131Y#132Z#133F[[#137/2]*#13*#129]
#3004=0
#4=#5061-#131
#30=#5062-#132
#130=[#5063-#116]-#133
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO34
#149=2
GOTO38
N34
#4=#5061-#24
#30=#5062-#25
#130=[#5063-#116]-#26
#1=SQRT[[#4*#4]+[#30*#30]+[#130*#130]]
IF[#1GE#123]GOTO35
#149=1
GOTO38
N35
G04X.1
M98P9723
#131=#5041
#132=#5042
#133=#5043-#116
G01X#140Y#141Z#142F[#20*#129]
M98P9723
#143=ABS[#[130+#8]-#124]
IF[#8NE3]GOTO36
IF[[#143/#129*2]LT#23]GOTO38
#137=[#23/[#143/#129*2]]*#137
#137=FIX[#137/#13]
GOTO38
N36
IF[[#143/#129*2]LT#21]GOTO38
#137=[#21/[#143/#129*2]]*#137
#137=FIX[#137/#13]
N38
G01X#140Y#141Z#142F[1000*#129]
M99
%
