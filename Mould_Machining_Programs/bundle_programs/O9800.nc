%
O9800(REN*OPTIMISE*PROBE)
(F-4012-0519-AV)
(COPYRIGHT*1990-2022*RENISHAW*PLC.*ALL*RIGHTS*RESERVED)
G0G40G69G80G90G17
IF[#[#111+5]AND256EQ256]GOTO10
G65P9700E380.
N10
()
G65P9724E1
#149=0
#31=#5041
#32=#5042
#33=#5043-#116
#149=300
IF[#24EQ#0]GOTO20
IF[#25EQ#0]GOTO20
GOTO260
N20
#149=200
IF[#24NE#0]GOTO30
IF[#25NE#0]GOTO30
GOTO260
N30
#30=-1
#11=ABS[#11/#129]
IF[#11GT0]GOTO40
#11=0.002(MM*REPEATABILITY*VALUE)
N40
#23=ABS[#23/#129]
IF[#23GT0]GOTO50
#23=5.(MM*MAX*Z*PROBE*O/T*LIMIT)
N50
#21=ABS[#21/#129]
IF[#21GT0]GOTO60
#21=11.0(MM*MAX*PROBE*XY*O/T*LIMIT)
N60
#9=ABS[#9/#129]
IF[#9GT0]GOTO70
#9=12000(MM*MAX*POSITIONING*FR)
N70
IF[#17NE#0]GOTO80
#17=10.*#129
N80
IF[#24GT0]GOTO90
IF[#25GT0]GOTO90
#17=-#17
N90
IF[#18NE#0]GOTO100
#18=5.*#129
N100
#149=90
IF[#2EQ#0]GOTO260
#18=#18+#2/2
IF[#24GT0]GOTO110
IF[#25GT0]GOTO110
#18=-#18
N110
IF[#26NE#0]GOTO120
#26=[-10.*#129]
N120
IF[#24EQ#0]GOTO130
G65P9725X[#31+[#18*#30]]F[1000*#129]
GOTO140
N130
G65P9725Y[#32+[#18*#30]]F[1000*#129]
N140
G65P9725Z#26F[1000*#129]
IF[#149EQ1]GOTO260
#149=0
IF[#24EQ#0]GOTO150
G65P9729E1.V[[#18+#17]]W#23U#21H#11F#9(X)
GOTO160
N150
G65P9729E2.V[[#18+#17]]W#23U#21H#11F#9(Y)
N160
#145=#144
IF[#149NE0]GOTO260
#3=#138
#4=#137
#5=#110
#7=#109
G65P9725Z#33F[1000*#129]
IF[#149EQ1]GOTO260
G65P9725X[#31+#24]Y[#32+#25]F[1000*#129]
N170
IF[#149EQ1]GOTO260
#149=0
G65P9729E3.V-[[#33-#26]+ABS[#17]]W#23U#21H#11F#9(Z)
IF[#149NE0]GOTO260
IF[#138GE#3]GOTO180
#100=#138
GOTO190
N180
#100=#3
N190
#101=#137
#102=#4
#104=#100
#105=#101
#106=#102
#100=#100*#129
#101=#101*#129
#102=#102*#129
G65P9700E450.(CHECK #100-#102)
#149=0
IF[#100LE[#104*#129]]GOTO200
#100=#104
N200
#100=FIX[#100/#129]
IF[#101LE[#105*#129]]GOTO210
#101=#105
N210
#101=FIX[#101/#129]
IF[#102LE[#106*#129]]GOTO220
#102=#106
N220
#102=FIX[#102/#129]
N230
#[#111+8]=#100
#[#111+9]=FIX[#101/10]
#[#111+9]=#[#111+9]+[FIX[#102/10]/10000]
N240
#[#111+6]=[#7+#109]/2
#[#111+7]=#110
IF[#110GT#5]GOTO250
#[#111+7]=#5
#1=104
WHILE[#1LE106]DO1
#[#1]=#0
#1=#1+1
END1
N250
()
#[#111+5]=#[#111+5]OR1024
#[#111+5]=#[#111+5]XOR1024(CLEAR NON-OPTIMISED FLAG)
#[#111+5]=#[#111+5]OR2048(SET OPTIMISED FLAG)
()
N260
G01Z#33F[1000*#129]
G01X#31Y#32F[1000*#129]
IF[#149EQ0]GOTO270
G65P9700E#149
N270
G65P9700E455.(CALIBRATION*REMINDER)
M99
%
